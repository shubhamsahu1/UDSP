"use strict";(self.webpackChunkapplication_init_client=self.webpackChunkapplication_init_client||[]).push([[199],{1199:(e,n,r)=>{r.r(n),r.d(n,{default:()=>R});var o=r(5043),a=r(6240),i=r(344),s=r(6446),l=r(7392),t=r(5263),d=r(3287),c=r(2314),x=r(5865),p=r(1045),h=r(2437),u=r(2143),m=r(9336),A=r(2050),g=r(8734),j=r(4149),v=r(2069),b=r(5155),k=r(1007),f=r(9906),C=r(4117),y=r(5016),w=r(3216),z=r(4779),M=r(579);const I=()=>{var e,n;const{t:r,i18n:a}=(0,C.Bd)(),{user:i,logout:d}=(0,y.A)(),I=(0,w.Zp)(),E=(0,w.zy)(),[S,T]=(0,o.useState)(null),[B,N]=(0,o.useState)(null);(0,o.useEffect)(()=>{T(null),N(null)},[E.pathname]);const O=()=>{T(null),N(null)},_=e=>{a.changeLanguage(e),N(null)},D=Boolean(S);return(0,M.jsx)(c.A,{position:"fixed",sx:{zIndex:e=>e.zIndex.drawer+1,borderRadius:0},children:(0,M.jsxs)(t.A,{children:[(0,M.jsx)(x.A,{variant:"h6",sx:{flexGrow:1,ml:4},children:r("app.name")}),(0,M.jsxs)(s.A,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,M.jsx)(l.A,{size:"large","aria-label":"account of current user","aria-controls":D?"menu-appbar":void 0,"aria-haspopup":"true",onClick:e=>{T(e.currentTarget)},color:"inherit",children:(0,M.jsx)(p.A,{sx:{width:32,height:32,bgcolor:"secondary.main"},children:(null===i||void 0===i||null===(e=i.firstName)||void 0===e||null===(n=e.charAt(0))||void 0===n?void 0:n.toUpperCase())||"U"})}),(0,M.jsxs)(h.A,{id:"menu-appbar",anchorEl:S,anchorOrigin:{vertical:"bottom",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:D,onClose:O,children:[(0,M.jsxs)(u.A,{onClick:()=>{O(),I("/profile")},children:[(0,M.jsx)(j.A,{sx:{mr:1}}),null===i||void 0===i?void 0:i.firstName," ",null===i||void 0===i?void 0:i.lastName]}),(0,M.jsxs)(u.A,{disabled:!0,children:[(0,M.jsx)(v.A,{sx:{mr:1}}),r("menu.role"),": ",null===i||void 0===i?void 0:i.role]}),(0,M.jsx)(m.A,{}),(null===i||void 0===i?void 0:i.role)===z.iK.ADMIN&&(0,M.jsxs)(u.A,{onClick:()=>{O(),I("/user-management")},children:[(0,M.jsx)(b.A,{sx:{mr:1}}),"User Management"]}),(0,M.jsxs)(u.A,{onClick:()=>{O(),I("/change-password")},children:[(0,M.jsx)(k.A,{sx:{mr:1}}),r("menu.changePassword")]}),(0,M.jsxs)(u.A,{onClick:()=>{d(),O(),I("/login")},children:[(0,M.jsx)(f.A,{sx:{mr:1}}),r("menu.logout")]}),(0,M.jsx)(m.A,{}),(0,M.jsxs)(u.A,{onClick:e=>{N(e.currentTarget)},children:[(0,M.jsx)("span",{role:"img","aria-label":"language",style:{marginRight:8},children:"\ud83c\udf10"}),r("menu.changeLanguage")]})]},E.pathname),(0,M.jsxs)(h.A,{id:"lang-menu",anchorEl:B,open:Boolean(B),onClose:O,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:[(0,M.jsxs)(u.A,{onClick:()=>_("en"),selected:"en"===a.language,children:[(0,M.jsx)(A.A,{children:"\ud83c\uddfa\ud83c\uddf8"}),(0,M.jsx)(g.A,{children:"English"})]}),(0,M.jsxs)(u.A,{onClick:()=>_("es"),selected:"es"===a.language,children:[(0,M.jsx)(A.A,{children:"\ud83c\uddea\ud83c\uddf8"}),(0,M.jsx)(g.A,{children:"Espa\xf1ol"})]})]},"lang-".concat(E.pathname))]})]})})};var E=r(5721),S=r(681),T=r(8968),B=r(4109),N=r(8602),O=r(5032),_=r(5846),D=r(9893);const L=[{text:"nav.dashboard",icon:N.A,path:"/dashboard",roles:["admin","staff"]},{text:"nav.labtest",icon:O.A,path:"/labtest",roles:["admin"]},{text:"nav.reports",icon:_.A,path:"/reports",roles:["admin"]},{text:"nav.profile",icon:D.A,path:"/profile",roles:["admin","staff"]}],P=e=>{let{open:n,onClose:r}=e;const{t:s}=(0,C.Bd)(),l=(0,a.A)(),d=(0,i.A)(l.breakpoints.down("md")),c=(0,w.zy)(),x=(0,w.Zp)(),{user:p}=(0,y.A)(),h=L.filter(e=>e.roles.includes(null===p||void 0===p?void 0:p.role)),u=(0,M.jsx)(M.Fragment,{children:(0,M.jsx)(E.A,{sx:{pt:2},children:h.map(e=>{const n=e.icon,a=c.pathname===e.path;return(0,M.jsx)(S.Ay,{disablePadding:!0,children:(0,M.jsxs)(T.A,{onClick:()=>{return n=e.path,void(0,o.startTransition)(()=>{x(n),d&&r()});var n},selected:a,sx:{mx:1,borderRadius:1,"&.Mui-selected":{backgroundColor:"primary.main",color:"primary.contrastText","&:hover":{backgroundColor:"primary.dark"},"& .MuiListItemIcon-root":{color:"primary.contrastText"}}},children:[(0,M.jsx)(A.A,{children:(0,M.jsx)(n,{})}),(0,M.jsx)(g.A,{primary:s(e.text)})]})},e.text)})})});return d?(0,M.jsxs)(B.Ay,{variant:"temporary",open:n,onClose:r,ModalProps:{keepMounted:!0},sx:{display:{xs:"block",md:"none"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:240}},children:[(0,M.jsx)(t.A,{}),u]}):(0,M.jsxs)(B.Ay,{variant:"permanent",sx:{display:{xs:"none",md:"block"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:240}},open:!0,children:[(0,M.jsx)(t.A,{}),u]})},R=()=>{const e=(0,a.A)(),n=(0,i.A)(e.breakpoints.down("md")),[r,c]=(0,o.useState)(!1),x=()=>{c(!r)};return(0,M.jsxs)(s.A,{sx:{display:"flex"},children:[(0,M.jsx)(I,{}),n&&(0,M.jsx)(l.A,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:x,sx:{position:"fixed",top:8,left:8,zIndex:e=>e.zIndex.drawer+2,backgroundColor:"primary.main",color:"white","&:hover":{backgroundColor:"primary.dark"}},children:(0,M.jsx)(d.A,{})}),(0,M.jsx)(P,{open:r,onClose:x}),(0,M.jsxs)(s.A,{component:"main",sx:{flexGrow:1,p:1.5,pt:1,width:{md:"calc(100% - ".concat(240,"px)")},ml:{md:"".concat(240,"px")}},children:[(0,M.jsx)(t.A,{}),(0,M.jsx)(w.sv,{})]})]})}}}]);
//# sourceMappingURL=199.cedc7a3f.chunk.js.map